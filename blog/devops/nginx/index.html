<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>nginx é…ç½®æ–‡ä»¶ & context & å±æ€§ - VISIONARY</title><meta name=generator content="Hugo 0.94.2"><link rel=stylesheet href="https://visionary.top/css/styles.min.ec6ba89a06bf6fa69af8ca4da0bd1246456266abd1b4f130627e256c5123938c.css" integrity="sha256-7Guomga/b6aa+MpNoL0SRkViZqvRtPEwYn4lbFEjk4w="><script>window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script><script data-ad-client=ca-pub-6431705402019390 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body class="flex flex-col min-h-screen dark:bg-gray-900 dark:text-gray-100 transition-colors duration-500"><header class="w-full px-4 pt-4 max-w-5xl mx-auto"><nav class="flex items-center justify-between flex-wrap"><div class="flex gap-2 items-center"><a href=mailto:min_0610@icloud.com aria-label=EMail><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="4"/><path d="M16 12v1.5a2.5 2.5.0 005 0V12a9 9 0 10-5.5 8.28"/></svg></a><a href=https://visionary.top/ class="flex items-center font-bold">VISIONARY</a></div><ul id=nav-menu class="flex w-auto mt-0 space-x-2"><li><div class=search><label for=search>ğŸ”</label><input placeholder=SEARCH id=search type=text class=dark:bg-gray-900><ul id=results class=search_result></ul></div><script type=text/javascript src=https://code.jquery.com/jquery-2.1.3.min.js></script>
<script type=text/javascript src=/js/lunr/lunr.min.js></script>
<script type=text/javascript>let lunrIndex,$results,pagesIndex;function initLunr(){$.getJSON("/js/lunr/PagesIndex.json").done(function(e){pagesIndex=e,console.info("index:",pagesIndex),lunrIndex=lunr(function(){this.field("title",{boost:10}),this.field("tags",{boost:5}),console.log(this.add),this.field("content"),this.ref("href"),pagesIndex.forEach(e=>{console.log(e),e&&this.add(e)})})}).fail(function(s,e,t){const n=e+", "+t;console.error("Error getting Hugo index flie:",n)})}function initUI(){$results=$("#results"),$("#search").keyup(function(){$results.empty();const e=$(this).val();if(e.length<2)return;const t=search(e);renderResults(t)})}function search(e){return lunrIndex.search(e).map(function(e){return console.log(e),pagesIndex.filter(function(t){return t&&t.href===e.ref})[0]})}function renderResults(e){if(!e.length)return;e.slice(0,10).forEach(function(e){const t=$("<li>");t.append($("<a>",{href:e?e.href:'',text:"ğŸ”— "+e.title})),$results.append(t)})}initLunr(),$(document).ready(function(){initUI()})</script></li><li><a href=https://visionary.top/tags/about/ class="hover:text-blue-800 dark:hover:text-blue-300">About</a></li><li><a href=https://visionary.top/blog/ class="hover:text-blue-800 dark:hover:text-blue-300">Blogs</a></li></ul></nav></header><main class="flex-1 mx-4 md:mx-12 lg:mx-24 mt-8 sm:mt-16"><article class="mb-16 max-w-5xl mx-auto px-4" style=position:relative><h1 class="text-5xl mb-6">nginx é…ç½®æ–‡ä»¶ & context & å±æ€§</h1><ul></ul><div class="post-footer mb-6"><div class=info><span class=separator><a class=category href=/categories/nginx/>nginx</a></span>
<span class=separator><a class=tag href=/tags/nginx/>nginx</a></span></div></div><div class=post-footer></div><aside class=content-aside-bar><h2 class=text-xl>ğŸ“š ç›®å½•</h2><nav id=TableOfContents><ul><li><a href=#åœ¨-docker-ä¸­å¯åŠ¨-nginx>åœ¨ docker ä¸­å¯åŠ¨ Nginx</a><ul><li><a href=#dockerfile>dockerfile</a></li><li><a href=#æ„å»º>æ„å»º</a></li><li><a href=#è¿è¡Œ--æš´éœ²å¤–éƒ¨ç«¯å£>è¿è¡Œ & æš´éœ²å¤–éƒ¨ç«¯å£</a></li><li><a href=#è¿›å…¥å®¹å™¨æŸ¥çœ‹>è¿›å…¥å®¹å™¨æŸ¥çœ‹</a></li></ul></li><li><a href=#nginx-çš„-context-æœ‰å“ªäº›>Nginx çš„ context æœ‰å“ªäº›</a><ul><li><a href=#events>events</a></li><li><a href=#http>http</a></li></ul></li><li><a href=#ä»£ç†çš„è´Ÿè½½å‡è¡¡>ä»£ç†çš„è´Ÿè½½å‡è¡¡</a></li><li><a href=#ç¼“å­˜ç›¸å…³>ç¼“å­˜ç›¸å…³</a><ul><li><a href=#proxy-buffer>proxy buffer</a></li><li><a href=#proxy_cache>proxy_cache</a></li><li><a href=#cache-controlçš„å€¼>Cache-Controlçš„å€¼</a></li></ul></li><li><a href=#cache-ç¤ºä¾‹>Cache ç¤ºä¾‹</a></li></ul></nav></aside><div class="prose lg:prose-lg prose-blue dark:prose-dark"><p>åœ¨ docker ä¸­å¯åŠ¨ Nginxçš„æ­¥éª¤ å’Œ Nginx ä¸­é…ç½®æœåŠ¡ã€è´Ÿè½½å‡è¡¡ã€ç¼“å†²åŒºã€Cacheçš„å±æ€§</p><h2 id=åœ¨-docker-ä¸­å¯åŠ¨-nginx>åœ¨ docker ä¸­å¯åŠ¨ Nginx</h2><h3 id=dockerfile>dockerfile</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> nginx</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> static-html-directory /www<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> nginx.conf /etc/nginx/nginx.conf<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><h3 id=æ„å»º>æ„å»º</h3><h3 id=è¿è¡Œ--æš´éœ²å¤–éƒ¨ç«¯å£>è¿è¡Œ & æš´éœ²å¤–éƒ¨ç«¯å£</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run --name nginx-server1 -d -p 9999:9999 nginx-server
</span></span></code></pre></div><p>ps: run & start & rm</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run  <span style=color:#75715e># Run a command in a **new** container</span>
</span></span><span style=display:flex><span>docker start  <span style=color:#75715e># Start one or more stopped containers</span>
</span></span><span style=display:flex><span>docker rm nginx-server
</span></span></code></pre></div><h3 id=è¿›å…¥å®¹å™¨æŸ¥çœ‹>è¿›å…¥å®¹å™¨æŸ¥çœ‹</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker exec -it nginx-server /bin/bash
</span></span><span style=display:flex><span><span style=color:#75715e>#é€€å‡º</span>
</span></span><span style=display:flex><span>exit
</span></span></code></pre></div><h2 id=nginx-çš„-context-æœ‰å“ªäº›>Nginx çš„ context æœ‰å“ªäº›</h2><h3 id=events>events</h3><h3 id=http>http</h3><p>ç»“æ„ï¼šhttp > server > location > nested location upstream mail</p><h4 id=server>server</h4><h4 id=location>location</h4><p>ä»£ç†/è½¬å‘</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>location /match/here <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    proxy_pass http://example.com;
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>è®¾ç½®å“åº”çš„ header</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>proxy_set_header HOST $host;
</span></span><span style=display:flex><span>proxy_set_header X-Forwarded-Proto $scheme;
</span></span><span style=display:flex><span>proxy_set_header X-Real-IP $remote_addr;
</span></span><span style=display:flex><span>proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>location /match/here <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    proxy_pass http://example.com/new/prefix;
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>location /different/match <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    proxy_pass http://example.com;
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h5 id=location-ä¸‹å¯é…ç½®çš„-context>location ä¸‹å¯é…ç½®çš„ context</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>    limit_except GET HEAD <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># limit_except context</span>
</span></span><span style=display:flex><span>        allow 192.168.1.1/24;
</span></span><span style=display:flex><span>        deny all;
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>test_condition<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e># if context</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span></code></pre></div><h2 id=ä»£ç†çš„è´Ÿè½½å‡è¡¡>ä»£ç†çš„è´Ÿè½½å‡è¡¡</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>
</span></span><span style=display:flex><span>upstream backend_hosts <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    least_conn; <span style=color:#75715e>#[ç®—æ³•] æŒ‡å®šåº”å§‹ç»ˆå‘æ´»åŠ¨è¿æ¥æ•°æœ€å°‘çš„åç«¯æä¾›æ–°è¿æ¥ã€‚è¿™åœ¨ä¸åç«¯çš„è¿æ¥å¯èƒ½æŒç»­ä¸€æ®µæ—¶é—´çš„æƒ…å†µä¸‹å°¤å…¶æœ‰ç”¨ã€‚</span>
</span></span><span style=display:flex><span>    hash $remote_addr$remote_port consistent;
</span></span><span style=display:flex><span>    server host1.example.com weight<span style=color:#f92672>=</span>3; <span style=color:#75715e>#æƒé‡</span>
</span></span><span style=display:flex><span>    server host2.example.com;
</span></span><span style=display:flex><span>    server host3.example.com;
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>server <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    listen 80;
</span></span><span style=display:flex><span>    server_name example.com;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    location /proxy-me <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        proxy_pass http://backend_hosts;
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h2 id=ç¼“å­˜ç›¸å…³>ç¼“å­˜ç›¸å…³</h2><h3 id=proxy-buffer>proxy buffer</h3><p>è¿˜å¯ä»¥é…ç½®ä¸€äº› proxy buffer ç¼“å†²åŒº
å‡å°‘è¯·æ±‚æ—¶é—´</p><h3 id=proxy_cache>proxy_cache</h3><p>å‡å°‘å“åº”æ—¶é—´</p><h3 id=cache-controlçš„å€¼>Cache-Controlçš„å€¼</h3><ol><li>no-cacheï¼šæ­¤æŒ‡ä»¤æŒ‡å®šä»»ä½•ç¼“å­˜çš„å†…å®¹åœ¨æä¾›ç»™å®¢æˆ·ç«¯ä¹‹å‰å¿…é¡»åœ¨æ¯ä¸ªè¯·æ±‚ä¸Šé‡æ–°éªŒè¯ã€‚å®é™…ä¸Šï¼Œè¿™ä¼šç«‹å³å°†å†…å®¹æ ‡è®°ä¸ºè¿‡æ—¶ï¼Œä½†å…è®¸å®ƒä½¿ç”¨é‡æ–°éªŒè¯æŠ€æœ¯æ¥é¿å…å†æ¬¡é‡æ–°ä¸‹è½½æ•´ä¸ªé¡¹ç›®ã€‚</li><li>no-storeï¼šè¯¥æŒ‡ä»¤è¡¨ç¤ºä¸èƒ½ä»¥ä»»ä½•æ–¹å¼ç¼“å­˜å†…å®¹ã€‚å¦‚æœå“åº”ä»£è¡¨æ•æ„Ÿæ•°æ®ï¼Œåˆ™é€‚åˆè®¾ç½®ã€‚</li><li>publicï¼šè¿™å°†å†…å®¹æ ‡è®°ä¸ºå…¬å¼€ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥è¢«æµè§ˆå™¨å’Œä»»ä½•ä¸­é—´ç¼“å­˜ç¼“å­˜ã€‚å¯¹äºä½¿ç”¨ HTTP èº«ä»½éªŒè¯çš„è¯·æ±‚ï¼Œprivateé»˜è®¤æƒ…å†µä¸‹ä¼šæ ‡è®°å“åº”ã€‚æ­¤æ ‡å¤´ä¼šè¦†ç›–è¯¥è®¾ç½®ã€‚</li><li>private: è¿™å°†å†…å®¹æ ‡è®°ä¸ºprivateã€‚ç§äººå†…å®¹å¯ä»¥ç”±ç”¨æˆ·çš„æµè§ˆå™¨å­˜å‚¨ï¼Œä½†ä¸å¾—è¢«ä»»ä½•ä¸­é—´æ–¹ç¼“å­˜ã€‚è¿™é€šå¸¸ç”¨äºç‰¹å®šäºç”¨æˆ·çš„æ•°æ®ã€‚</li><li>max-ageï¼šæ­¤è®¾ç½®é…ç½®å†…å®¹åœ¨å¿…é¡»é‡æ–°éªŒè¯æˆ–ä»æºæœåŠ¡å™¨é‡æ–°ä¸‹è½½å†…å®¹ä¹‹å‰å¯ä»¥ç¼“å­˜çš„æœ€é•¿æœŸé™ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œè¿™å–ä»£äº†Expiresç°ä»£æµè§ˆçš„æ ‡é¢˜ï¼Œæ˜¯ç¡®å®šä¸€æ®µå†…å®¹æ–°é²œåº¦çš„åŸºç¡€ã€‚æ­¤é€‰é¡¹ä»¥ç§’ä¸ºå•ä½å–å€¼ï¼Œæœ€é•¿æœ‰æ•ˆæ–°é²œæ—¶é—´ä¸ºä¸€å¹´ï¼ˆ31536000
ç§’ï¼‰ã€‚</li><li>s-maxageï¼šè¿™ä¸ªå’Œè®¾ç½®å¾ˆç›¸ä¼¼max-ageï¼Œéƒ½æ˜¯è¡¨ç¤ºå¯ä»¥ç¼“å­˜å†…å®¹çš„æ—¶é—´ã€‚ä¸åŒä¹‹å¤„åœ¨äºæ­¤é€‰é¡¹ä»…é€‚ç”¨äºä¸­é—´ç¼“å­˜ã€‚å°†å…¶ä¸ä¸Šè¿°ç›¸ç»“åˆå…è®¸æ›´çµæ´»çš„ç­–ç•¥æ„å»ºã€‚</li><li>must-revalidate: è¡¨ç¤ºå¿…é¡»ä¸¥æ ¼éµå®ˆmax-age,s-maxageæˆ–è¡¨å¤´æŒ‡ç¤ºçš„æ–°é²œåº¦ä¿¡æ¯ã€‚Expiresåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸èƒ½æä¾›è¿‡æ—¶çš„å†…å®¹ã€‚è¿™å¯ä»¥é˜²æ­¢åœ¨ç½‘ç»œä¸­æ–­å’Œç±»ä¼¼æƒ…å†µä¸‹ä½¿ç”¨ç¼“å­˜çš„å†…å®¹ã€‚</li><li>proxy-revalidateï¼šè¿™ä¸ä¸Šè¿°è®¾ç½®çš„æ“ä½œç›¸åŒï¼Œä½†ä»…é€‚ç”¨äºä¸­é—´ä»£ç†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”¨æˆ·çš„æµè§ˆå™¨å¯èƒ½è¢«ç”¨äºåœ¨ç½‘ç»œä¸­æ–­çš„æƒ…å†µä¸‹æä¾›é™ˆæ—§çš„å†…å®¹ï¼Œä½†ä¸­é—´ç¼“å­˜ä¸èƒ½ç”¨äºæ­¤ç›®çš„ã€‚</li><li>no-transformï¼šæ­¤é€‰é¡¹å‘Šè¯‰ç¼“å­˜åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸å…è®¸å‡ºäºæ€§èƒ½åŸå› ä¿®æ”¹æ¥æ”¶åˆ°çš„å†…å®¹ã€‚è¿™æ„å‘³ç€ï¼Œä¾‹å¦‚ï¼Œç¼“å­˜æ— æ³•å‘é€å®ƒæ²¡æœ‰ä»åŸå§‹æœåŠ¡å™¨æ¥æ”¶åˆ°çš„å‹ç¼©å†…å®¹çš„å‹ç¼©ç‰ˆæœ¬ï¼Œå¹¶ä¸”æ˜¯ä¸å…è®¸çš„ã€‚</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>location /private <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    expires -1;
</span></span><span style=display:flex><span>    add_header Cache-Control <span style=color:#e6db74>&#34;no-store&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><hr><h2 id=cache-ç¤ºä¾‹>Cache ç¤ºä¾‹</h2><p>åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®äº† 7 å¤©è¿‡æœŸ
<img src=.nginx_images/2b29977c.png alt></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># å“åº”å¤´</span>
</span></span><span style=display:flex><span>HTTP/1.1 <span style=color:#ae81ff>304</span> Not Modified
</span></span><span style=display:flex><span>Server: nginx/1.21.6
</span></span><span style=display:flex><span>Date: Tue, <span style=color:#ae81ff>15</span> Mar <span style=color:#ae81ff>2022</span> 07:07:54 GMT
</span></span><span style=display:flex><span>Last-Modified: Tue, <span style=color:#ae81ff>15</span> Mar <span style=color:#ae81ff>2022</span> 03:35:28 GMT <span style=color:#75715e># æ–‡ä»¶ä¿®æ”¹æ—¶é—´</span>
</span></span><span style=display:flex><span>Connection: keep-alive
</span></span><span style=display:flex><span>ETag: <span style=color:#e6db74>&#34;62300980-c5&#34;</span> <span style=color:#75715e>#æ‰€è¯·æ±‚æ–‡ä»¶çš„æ­¤ç‰¹å®šç‰ˆæœ¬çš„å”¯ä¸€æ ‡è¯†ç¬¦ </span>
</span></span><span style=display:flex><span>Expires: Tue, <span style=color:#ae81ff>22</span> Mar <span style=color:#ae81ff>2022</span> 07:07:54 GMT <span style=color:#75715e>#è¿‡æœŸæ—¶é—´</span>
</span></span><span style=display:flex><span>Cache-Control: max-age<span style=color:#f92672>=</span><span style=color:#ae81ff>604800</span> <span style=color:#75715e>#7d</span>
</span></span></code></pre></div><p>Cache-Controlè®¾ç½®ä¸ºno-cacheï¼Œå®ƒå‘Šè¯‰æµè§ˆå™¨å§‹ç»ˆè¯¢é—®æœåŠ¡å™¨æ˜¯å¦æœ‰æ›´æ–°ç‰ˆæœ¬çš„æ–‡ä»¶ï¼ˆä½¿ç”¨ETagæ ‡å¤´ï¼Œåƒä»¥å‰ä¸€æ ·ï¼‰ã€‚</p><p>å¼ºåˆ¶åˆ·æ–°å¯ä»¥é‡æ–°è¯·æ±‚</p><p>é™¤äº†ETagæ–‡ä»¶éªŒè¯å¤´ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªç¼“å­˜æ§åˆ¶å“åº”å¤´ï¼šCache-Controlå’ŒExpires. Cache-Controlæ˜¯è¾ƒæ–°çš„ç‰ˆæœ¬ï¼Œå…·æœ‰æ›´å¤šé€‰é¡¹Expiresï¼Œå¦‚æœæ‚¨æƒ³æ›´å¥½åœ°æ§åˆ¶ç¼“å­˜è¡Œä¸ºï¼Œé€šå¸¸ä¼šæ›´æœ‰ç”¨ã€‚</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># Expires map æ ¹æ®æ–‡ä»¶ç±»å‹è®¾ç½®è¿‡æœŸ</span>
</span></span><span style=display:flex><span>map $sent_http_content_type $expires <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    default                    off;
</span></span><span style=display:flex><span>    text/html                  epoch;
</span></span><span style=display:flex><span>    text/css                   max;
</span></span><span style=display:flex><span>    application/javascript     max;
</span></span><span style=display:flex><span>    ~image/                    max;
</span></span><span style=display:flex><span>    ~font/                     max;
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> expires $expires;
</span></span></code></pre></div></div><div class=comments><h1 class="text-m my-2">COMMENTS</h1><script src=https://utteranc.es/client.js repo=viisionary/visionary issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></article></main><footer class="w-full text-center p-4 text-xs text-gray-400">copyright Â© 2021 - VISIONARY Â· All rights reserved</footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-Z0FJ599SKS"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Z0FJ599SKS")</script></body></html>