<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>js基础问题 - VISIONARY</title><meta name=description content="Sample article showcasing basic Markdown syntax and formatting for HTML elements."><meta name=generator content="Hugo 0.107.0"><link rel=stylesheet href="https://visionary.top/css/styles.min.092799064007b440daa9b46acdcbf1d7819a07c6a9406bed44cdb4c9187bb3a5.css" integrity="sha256-CSeZBkAHtEDaqbRqzcvx14GaB8apQGvtRM20yRh7s6U="><script async>window.onload=e=>{console.log("执行",document.getElementById("theme")),document.getElementById("theme").addEventListener("click",()=>{if(document.documentElement.classList.contains("dark")){document.documentElement.classList.remove("dark");return}document.documentElement.classList.add("dark")},!1)}</script><script>window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script><script data-ad-client=ca-pub-6431705402019390 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body class="flex flex-col min-h-screen dark:bg-gray-900 dark:text-gray-100 transition-colors duration-500"><header class="w-full px-4 pt-4 max-w-5xl mx-auto"><nav class="flex items-center justify-between flex-wrap"><div class="flex gap-2 items-center"><a href=mailto:min_0610@icloud.com aria-label=EMail><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="4"/><path d="M16 12v1.5a2.5 2.5.0 005 0V12a9 9 0 10-5.5 8.28"/></svg></a><a href=https://visionary.top/ class="flex items-center font-bold">VISIONARY</a></div><ul id=nav-menu class="flex w-auto mt-0 space-x-2"><li><div class=search><label for=search>🔍</label><input placeholder=SEARCH id=search type=text class=dark:bg-gray-900><ul id=results class=search_result></ul></div><script type=text/javascript src=https://code.jquery.com/jquery-2.1.3.min.js></script>
<script type=text/javascript src=/js/lunr/lunr.min.js></script>
<script type=text/javascript>let lunrIndex,$results,pagesIndex;function initLunr(){$.getJSON("/js/lunr/PagesIndex.json").done(function(e){pagesIndex=e,console.info("index:",pagesIndex),lunrIndex=lunr(function(){this.field("title",{boost:10}),this.field("tags",{boost:5}),console.log(this.add),this.field("content"),this.ref("href"),pagesIndex.forEach(e=>{console.log(e),e&&this.add(e)})})}).fail(function(e,t,n){const s=t+", "+n;console.error("Error getting Hugo index flie:",s)})}function initUI(){$results=$("#results"),$("#search").keyup(function(){$results.empty();const e=$(this).val();if(e.length<2)return;const t=search(e);renderResults(t)})}function search(e){return lunrIndex.search(e).map(function(e){return console.log(e),pagesIndex.filter(function(t){return t&&t.href===e.ref})[0]})}function renderResults(e){if(!e.length)return;e.slice(0,10).forEach(function(e){const t=$("<li>");t.append($("<a>",{href:e?e.href:"",text:"🔗 "+e.title})),$results.append(t)})}initLunr(),$(document).ready(function(){initUI()})</script></li><li><a href=https://visionary.top/tags/about/ class="hover:text-blue-800 dark:hover:text-blue-300">About</a></li><li><a href=https://visionary.top/blog/ class="hover:text-blue-800 dark:hover:text-blue-300">Blogs</a></li><li id=theme title="Toggle Mode" style=cursor:pointer>Toggle</li></ul></nav></header><main class="flex-1 mx-4 md:mx-12 lg:mx-24 mt-8 sm:mt-16"><article class="mb-16 max-w-5xl mx-auto px-4" style=position:relative><h1 class="text-5xl mb-6">js基础问题</h1><ul></ul><div class="post-footer mb-6"><div class=info><span class=separator><a class=category href=/categories/java-script/>Java Script</a></span>
<span class=separator><a class=tag href=/tags/%E5%9F%BA%E7%A1%80/>基础</a></span></div></div><div class=post-footer></div><aside class=content-aside-bar><h2 class=text-xl>📚 目录</h2><nav id=TableOfContents><ul><li><a href=#变量提升>变量提升</a><ul><li><a href=#use-strict>use strict</a></li><li><a href=#catch>catch</a></li></ul></li><li><a href=#箭头函数>箭头函数</a></li><li><a href=#强制类型转换>强制类型转换</a><ul><li><a href=#object-作为key会被转化为string->object 作为key会被转化为string =></a></li></ul></li><li><a href=#指针>指针</a></li><li><a href=#new-number>new Number</a></li><li><a href=#class>class</a><ul><li><a href=#class--prototype>class & prototype</a></li></ul></li><li><a href=#私有变量-es2020>私有变量 ES2020</a><ul><li><a href=#继承>继承</a></li></ul></li><li><a href=#function实际上也是对象-可以往上挂属性>function实际上也是对象 可以往上挂属性</a></li><li><a href=#关于new>关于new</a><ul><li><a href=#内置对象的原型链>内置对象的原型链</a></li><li><a href=#原型链>原型链</a></li><li><a href=#关于有没有prototype>关于有没有prototype</a></li></ul></li><li><a href=#bind--call>bind & call</a></li><li><a href=#模版字符串>模版字符串</a></li><li><a href=#eval>eval</a></li><li><a href=#storage>storage</a></li><li><a href=#object-的key>object 的key</a></li><li><a href=#全局执行的function-拥有global对象和this-keyword>全局执行的function 拥有global对象和"this" keyword</a></li><li><a href=#boolean>Boolean</a></li><li><a href=#array>array</a><ul><li><a href=#定义>定义</a></li><li><a href=#reduce>reduce</a></li><li><a href=#push>push</a></li></ul></li><li><a href=#setinterval>setInterval</a></li><li><a href=#generator>generator</a></li><li><a href=#关于指针浅拷贝深拷贝>关于指针/浅拷贝/深拷贝</a><ul><li><a href=#objectassign>Object.assign()</a></li></ul></li><li><a href=#遍历>遍历</a></li><li><a href=#set>set</a></li><li><a href=#模块化>模块化</a><ul><li><a href=#es6>es6</a></li><li><a href=#export>export</a></li></ul></li><li><a href=#delete>delete</a></li><li><a href=#jsonstringify>JSON.stringify</a></li><li><a href=#promise--async>promise & async</a><ul><li><a href=#promise的状态>promise的状态</a></li></ul></li><li><a href=#pure-function>pure function</a></li><li><a href=#symbol>symbol</a></li><li><a href=#默认值>默认值</a></li><li><a href=#如何使object-可以迭代-iterable>如何使Object 可以迭代 iterable</a></li><li><a href=#objectfromentries-array--object>Object.fromEntries [array => object]</a></li><li><a href=#if条件的执行顺序>if条件的执行顺序</a></li></ul></nav></aside><div class="prose lg:prose-lg prose-blue dark:prose-dark"><p>一些js中的一些基础问题</p><p>变量提升/this指向/指针/类型转换/迭代/模块化/promise 等</p><h2 id=变量提升>变量提升</h2><p>使用var在创建阶段就已经为变量分配了内存空间、默认值是undefined</p><p>let & const 也会被提升 但是不会被初始化、会抛出错误</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>function</span> sayHi() {
</span></span><span style=display:flex><span>	console.log(name);
</span></span><span style=display:flex><span>	console.log(age);
</span></span><span style=display:flex><span>	<span style=color:#8be9fd;font-style:italic>var</span> name <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;Lydia&#39;</span>;
</span></span><span style=display:flex><span>	<span style=color:#8be9fd;font-style:italic>let</span> age <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>21</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sayHi();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>//undefined and ReferenceError
</span></span></span></code></pre></div><p>setTimeout 的回调会在循环完毕之后执行 由于var的变量提升、var是全局的、每次+1，加到的是同一个变量上 若使用let/const的话 变量是局部的、每个i是个新值</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>for</span> (<span style=color:#8be9fd;font-style:italic>var</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> <span style=color:#bd93f9>3</span>; i<span style=color:#ff79c6>++</span>) {
</span></span><span style=display:flex><span>	setTimeout(() =&gt; console.log(i), <span style=color:#bd93f9>1</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#6272a4>//3 3 3
</span></span></span></code></pre></div><h3 id=use-strict>use strict</h3><p>避免声明意外的全局变量</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>function</span> getAge() {
</span></span><span style=display:flex><span>	<span style=color:#f1fa8c>&#39;use strict&#39;</span>;
</span></span><span style=display:flex><span>	age <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>21</span>;
</span></span><span style=display:flex><span>	console.log(age);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>getAge();
</span></span><span style=display:flex><span><span style=color:#6272a4>//ReferenceError
</span></span></span></code></pre></div><p>函数内部重新声明</p><p>会预先检查函数内部是否有使用的变量</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>let</span> name <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;Lydia&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>function</span> getName() {
</span></span><span style=display:flex><span>	console.log(name);
</span></span><span style=display:flex><span>	<span style=color:#8be9fd;font-style:italic>let</span> name <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;Sarah&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>getName();
</span></span><span style=display:flex><span><span style=color:#6272a4>//ReferenceError
</span></span></span></code></pre></div><h3 id=catch>catch</h3><p>x,y是模块的 catch中的x是error一个新变量</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span>(() =&gt; {
</span></span><span style=display:flex><span>	<span style=color:#8be9fd;font-style:italic>let</span> x, y;
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>try</span> {
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>throw</span> <span style=color:#ff79c6>new</span> <span style=color:#8be9fd;font-style:italic>Error</span>();
</span></span><span style=display:flex><span>	} <span style=color:#ff79c6>catch</span> (x) {
</span></span><span style=display:flex><span>		(x <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>1</span>), (y <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>2</span>);
</span></span><span style=display:flex><span>		console.log(x);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	console.log(x);
</span></span><span style=display:flex><span>	console.log(y);
</span></span><span style=display:flex><span>})();
</span></span><span style=display:flex><span><span style=color:#6272a4>// 1 undefined 2
</span></span></span></code></pre></div><h2 id=箭头函数>箭头函数</h2><p>这里perimeter使用箭头函数 this指向window</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> shape <span style=color:#ff79c6>=</span> {
</span></span><span style=display:flex><span>	radius<span style=color:#ff79c6>:</span> <span style=color:#bd93f9>10</span>,
</span></span><span style=display:flex><span>	diameter() {
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>return</span> <span style=color:#ff79c6>this</span>.radius <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>2</span>;
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>	perimeter<span style=color:#ff79c6>:</span> () =&gt; <span style=color:#bd93f9>2</span> <span style=color:#ff79c6>*</span> <span style=color:#8be9fd;font-style:italic>Math</span>.PI <span style=color:#ff79c6>*</span> <span style=color:#ff79c6>this</span>.radius,
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(shape.diameter());
</span></span><span style=display:flex><span>console.log(shape.perimeter());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>//20 and NaN 
</span></span></span></code></pre></div><h2 id=强制类型转换>强制类型转换</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>+</span><span style=color:#ff79c6>true</span>;
</span></span><span style=display:flex><span><span style=color:#ff79c6>!</span><span style=color:#f1fa8c>&#39;Lydia&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>// 1 and false
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>
</span></span><span style=display:flex><span><span style=color:#bd93f9>1</span> <span style=color:#ff79c6>+</span> <span style=color:#f1fa8c>&#39;2&#39;</span>
</span></span><span style=display:flex><span><span style=color:#6272a4>// &#39;12&#39;
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#bd93f9>3</span> <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>4</span> <span style=color:#ff79c6>+</span> <span style=color:#f1fa8c>&#39;5&#39;</span>;  <span style=color:#6272a4>// 75
</span></span></span></code></pre></div><h3 id=object-作为key会被转化为string->object 作为key会被转化为string =></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>object <span style=color:#ff79c6>-</span> <span style=color:#f1fa8c>&#34;[object Object]&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>undefined</span> <span style=color:#ff79c6>-</span> <span style=color:#f1fa8c>&#34;undefined&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>null</span> <span style=color:#ff79c6>-</span> <span style=color:#f1fa8c>&#34;null&#34;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> a <span style=color:#ff79c6>=</span> {};
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> b <span style=color:#ff79c6>=</span> { key<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;b&#39;</span> };
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> c <span style=color:#ff79c6>=</span> { key<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;c&#39;</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>a[b] <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>123</span>;
</span></span><span style=display:flex><span>a[c] <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>456</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(a[b]);<span style=color:#6272a4>//456
</span></span></span></code></pre></div><h2 id=指针>指针</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>let</span> c <span style=color:#ff79c6>=</span> { greeting<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;Hey!&#39;</span> };
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>let</span> d;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>d <span style=color:#ff79c6>=</span> c;
</span></span><span style=display:flex><span>c.greeting <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;Hello&#39;</span>;
</span></span><span style=display:flex><span>console.log(d.greeting);
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>let</span> number <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>;
</span></span><span style=display:flex><span>console.log(number<span style=color:#ff79c6>++</span>);
</span></span><span style=display:flex><span><span style=color:#bd93f9>0</span>
</span></span><span style=display:flex><span>console.log(<span style=color:#ff79c6>++</span>number);
</span></span><span style=display:flex><span><span style=color:#bd93f9>2</span>
</span></span><span style=display:flex><span>console.log(number);
</span></span><span style=display:flex><span><span style=color:#bd93f9>2</span>
</span></span></code></pre></div><h2 id=new-number>new Number</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>new</span> <span style=color:#8be9fd;font-style:italic>Number</span>(<span style=color:#bd93f9>3</span>) <span style=color:#ff79c6>===</span> <span style=color:#bd93f9>3</span> <span style=color:#6272a4>//false
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>typeof</span> <span style=color:#ff79c6>new</span> <span style=color:#8be9fd;font-style:italic>Number</span>(<span style=color:#bd93f9>3</span>) <span style=color:#6272a4>// object
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>typeof</span> <span style=color:#bd93f9>3</span> <span style=color:#6272a4>// number
</span></span></span></code></pre></div><h2 id=class>class</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> Chameleon {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>static</span> colorChange(newColor) {
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>this</span>.newColor <span style=color:#ff79c6>=</span> newColor;
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>return</span> <span style=color:#ff79c6>this</span>.newColor;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	constructor({ newColor <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;green&#39;</span> } <span style=color:#ff79c6>=</span> {}) {
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>this</span>.newColor <span style=color:#ff79c6>=</span> newColor;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> freddie <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> Chameleon({ newColor<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;purple&#39;</span> });
</span></span><span style=display:flex><span>console.log(freddie.colorChange(<span style=color:#f1fa8c>&#39;orange&#39;</span>));
</span></span><span style=display:flex><span><span style=color:#6272a4>//TypeError
</span></span></span></code></pre></div><h3 id=class--prototype>class & prototype</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>class</span> Dog {
</span></span><span style=display:flex><span>	constructor(name) {
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>this</span>.name <span style=color:#ff79c6>=</span> name;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Dog.prototype.bark <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>function</span> () {
</span></span><span style=display:flex><span>	console.log(<span style=color:#f1fa8c>`Woof I am </span><span style=color:#f1fa8c>${</span><span style=color:#ff79c6>this</span>.name<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c>`</span>);
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> pet <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> Dog(<span style=color:#f1fa8c>&#39;Mara&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pet.bark();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>delete</span> Dog.prototype.bark;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>pet.bark();
</span></span></code></pre></div><h2 id=私有变量-es2020>私有变量 ES2020</h2><p>不能被外部访问</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>class</span> Counter {
</span></span><span style=display:flex><span>	#number <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	increment() {
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>this</span>.#number<span style=color:#ff79c6>++</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	getNum() {
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>return</span> <span style=color:#ff79c6>this</span>.#number
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> counter <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> Counter()
</span></span><span style=display:flex><span>counter.increment() <span style=color:#6272a4>//SyntaxError
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>
</span></span><span style=display:flex><span>console.log(counter.#number)
</span></span></code></pre></div><h3 id=继承>继承</h3><p>构造函数内 不能在使用super()之前使用this</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> Dog {
</span></span><span style=display:flex><span>	constructor(name) {
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>this</span>.name <span style=color:#ff79c6>=</span> name;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> Labrador <span style=color:#ff79c6>extends</span> Dog {
</span></span><span style=display:flex><span>	constructor(name, size) {
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>super</span>(name);
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>this</span>.size <span style=color:#ff79c6>=</span> size;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>执行super的时候才会执行father的构造函数</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>class</span> Bird {
</span></span><span style=display:flex><span>	constructor() {
</span></span><span style=display:flex><span>		console.log(<span style=color:#f1fa8c>&#34;I&#39;m a bird. 🦢&#34;</span>);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>class</span> Flamingo <span style=color:#ff79c6>extends</span> Bird {
</span></span><span style=display:flex><span>	constructor() {
</span></span><span style=display:flex><span>		console.log(<span style=color:#f1fa8c>&#34;I&#39;m pink. 🌸&#34;</span>);
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>super</span>();
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> pet <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> Flamingo();
</span></span></code></pre></div><h2 id=function实际上也是对象-可以往上挂属性>function实际上也是对象 可以往上挂属性</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>function</span> bark() {
</span></span><span style=display:flex><span>	console.log(<span style=color:#f1fa8c>&#39;Woof!&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>bark.animal <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;dog&#39;</span>;
</span></span></code></pre></div><h2 id=关于new>关于new</h2><p>应挂到原型链上</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>function</span> Person(firstName, lastName) {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>this</span>.firstName <span style=color:#ff79c6>=</span> firstName;
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>this</span>.lastName <span style=color:#ff79c6>=</span> lastName;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> member <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> Person(<span style=color:#f1fa8c>&#39;Lydia&#39;</span>, <span style=color:#f1fa8c>&#39;Hallie&#39;</span>);
</span></span><span style=display:flex><span>Person.getFullName <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>function</span> () {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>return</span> <span style=color:#f1fa8c>`</span><span style=color:#f1fa8c>${</span><span style=color:#ff79c6>this</span>.firstName<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c> </span><span style=color:#f1fa8c>${</span><span style=color:#ff79c6>this</span>.lastName<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c>`</span>;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span><span style=color:#6272a4>// 此时的函数内部的this 指向windows
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>console.log(Person.getFullName());
</span></span><span style=display:flex><span><span style=color:#6272a4>// undefined undefined
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>
</span></span><span style=display:flex><span><span style=color:#6272a4>// 使this指到member上并生成一个新函数
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>console.log(Person.getFullName.bind(member)());
</span></span><span style=display:flex><span><span style=color:#6272a4>//Lydia Hallie
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>console.log(member.getFullName());
</span></span><span style=display:flex><span><span style=color:#6272a4>//TypeError
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>Person.prototype.getFullName <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>function</span> () {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>return</span> <span style=color:#f1fa8c>`</span><span style=color:#f1fa8c>${</span><span style=color:#ff79c6>this</span>.firstName<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c> </span><span style=color:#f1fa8c>${</span><span style=color:#ff79c6>this</span>.lastName<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c>`</span>;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>console.log(member.getFullName())
</span></span><span style=display:flex><span><span style=color:#6272a4>// Lydia Hallie
</span></span></span><span style=display:flex><span><span style=color:#6272a4>//### new 来的对象没有prototypes
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>
</span></span><span style=display:flex><span>console.info(member.prototype) <span style=color:#6272a4>// undefined
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>console.info(Person.prototype)
</span></span><span style=display:flex><span><span style=color:#6272a4>//getFullName: ƒ ()
</span></span></span><span style=display:flex><span><span style=color:#6272a4>//constructor: ƒ Person(firstName, lastName)
</span></span></span></code></pre></div><h3 id=内置对象的原型链>内置对象的原型链</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>String</span>.prototype.giveLydiaPizza <span style=color:#ff79c6>=</span> () =&gt; {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>return</span> <span style=color:#f1fa8c>&#39;Just give Lydia pizza already!&#39;</span>;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> name <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;Lydia&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>name.giveLydiaPizza(); 
</span></span></code></pre></div><h3 id=原型链>原型链</h3><p>常规function 是有prototype的、箭头函数则没有</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>function</span> giveLydiaPizza() {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>return</span> <span style=color:#f1fa8c>&#39;Here is pizza!&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> giveLydiaChocolate <span style=color:#ff79c6>=</span> () =&gt;
</span></span><span style=display:flex><span>	<span style=color:#f1fa8c>&#34;Here&#39;s chocolate... now go hit the gym already.&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(giveLydiaPizza.prototype);
</span></span><span style=display:flex><span>console.log(giveLydiaChocolate.prototype);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>// constructor: ...} undefined
</span></span></span></code></pre></div><h3 id=关于有没有prototype>关于有没有prototype</h3><h2 id=bind--call>bind & call</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>const</span> person <span style=color:#ff79c6>=</span> { name<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;Lydia&#39;</span> };
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>function</span> sayHi(age) {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>return</span> <span style=color:#f1fa8c>`</span><span style=color:#f1fa8c>${</span><span style=color:#ff79c6>this</span>.name<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c> is </span><span style=color:#f1fa8c>${</span>age<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c>`</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(sayHi.call(person, <span style=color:#bd93f9>21</span>));
</span></span><span style=display:flex><span>console.log(sayHi.bind(person, <span style=color:#bd93f9>21</span>));
</span></span></code></pre></div><h2 id=模版字符串>模版字符串</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>function</span> getPersonInfo(one, two, three) {
</span></span><span style=display:flex><span>	console.log(one);
</span></span><span style=display:flex><span>	console.log(two);
</span></span><span style=display:flex><span>	console.log(three);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> person <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;Lydia&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> age <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>21</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>getPersonInfo<span style=color:#f1fa8c>`</span><span style=color:#f1fa8c>${</span>person<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c> is </span><span style=color:#f1fa8c>${</span>age<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c> years old`</span>;
</span></span><span style=display:flex><span><span style=color:#6272a4>//[&#34;&#34;, &#34; is &#34;, &#34; years old&#34;] &#34;Lydia&#34; 21
</span></span></span></code></pre></div><p>立即执行函数</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>console.log(<span style=color:#f1fa8c>`</span><span style=color:#f1fa8c>${</span>(x =&gt; x)(<span style=color:#f1fa8c>&#39;I love&#39;</span>)<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c> to program`</span>);
</span></span><span style=display:flex><span><span style=color:#6272a4>//I love to program
</span></span></span></code></pre></div><h2 id=eval>eval</h2><p>Content Security Policy directive: &ldquo;script-src xxx&rdquo;.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>const</span> sum <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>eval</span>(<span style=color:#f1fa8c>&#39;10*10+5&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#6272a4>//105
</span></span></span></code></pre></div><h2 id=storage>storage</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span>sessionStorage.setItem(<span style=color:#f1fa8c>&#39;cool_secret&#39;</span>, <span style=color:#bd93f9>123</span>);
</span></span><span style=display:flex><span>关闭tab后被移除
</span></span></code></pre></div><h2 id=object-的key>object 的key</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>const</span> obj <span style=color:#ff79c6>=</span> { <span style=color:#bd93f9>1</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;a&#39;</span>, <span style=color:#bd93f9>2</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;b&#39;</span>, <span style=color:#bd93f9>3</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;c&#39;</span> };
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> set <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> Set([<span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>3</span>, <span style=color:#bd93f9>4</span>, <span style=color:#bd93f9>5</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>obj.hasOwnProperty(<span style=color:#f1fa8c>&#39;1&#39;</span>);
</span></span><span style=display:flex><span>obj.hasOwnProperty(<span style=color:#bd93f9>1</span>);
</span></span><span style=display:flex><span>set.has(<span style=color:#f1fa8c>&#39;1&#39;</span>);
</span></span><span style=display:flex><span>set.has(<span style=color:#bd93f9>1</span>);
</span></span><span style=display:flex><span><span style=color:#6272a4>//true true false true
</span></span></span></code></pre></div><h2 id=全局执行的function-拥有global对象和this-keyword>全局执行的function 拥有global对象和"this" keyword</h2><h2 id=boolean>Boolean</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>new</span> <span style=color:#8be9fd;font-style:italic>Boolean</span>(<span style=color:#ff79c6>false</span>) <span style=color:#ff79c6>?</span> console.log(<span style=color:#bd93f9>1</span>) <span style=color:#ff79c6>:</span> console.log(<span style=color:#bd93f9>2</span>)
</span></span><span style=display:flex><span><span style=color:#6272a4>// 1
</span></span></span></code></pre></div><h2 id=array>array</h2><h3 id=定义>定义</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>const</span> list <span style=color:#ff79c6>=</span> [<span style=color:#bd93f9>1</span> <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>1</span> <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>1</span> <span style=color:#ff79c6>/</span> <span style=color:#bd93f9>2</span>];
</span></span><span style=display:flex><span>console.log(list);
</span></span><span style=display:flex><span><span style=color:#6272a4>// [3, 2, 0.5]
</span></span></span></code></pre></div><h3 id=reduce>reduce</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>[[<span style=color:#bd93f9>0</span>, <span style=color:#bd93f9>1</span>], [<span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>3</span>]].reduce(
</span></span><span style=display:flex><span>	(acc, cur) =&gt; {
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>return</span> acc.concat(cur);
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>	[<span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>2</span>],
</span></span><span style=display:flex><span>);
</span></span><span style=display:flex><span><span style=color:#6272a4>//[1, 2, 0, 1, 2, 3]
</span></span></span></code></pre></div><h3 id=push>push</h3><p>array.push()的返回值是当前数组长度</p><h2 id=setinterval>setInterval</h2><p>setInterval/setTimeout会返回一个唯一的id [number]</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span>setInterval(() =&gt; console.log(<span style=color:#f1fa8c>&#39;Hi&#39;</span>), <span style=color:#bd93f9>1000</span>);
</span></span><span style=display:flex><span><span style=color:#6272a4>// 169
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>clearInterval(<span style=color:#bd93f9>169</span>)
</span></span><span style=display:flex><span><span style=color:#6272a4>// Interval会停下来
</span></span></span></code></pre></div><p>另一种调用方式</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>setTimeout(console.log, <span style=color:#bd93f9>100</span>, <span style=color:#f1fa8c>&#39;two&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#6272a4>// two
</span></span></span></code></pre></div><h2 id=generator>generator</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>function</span><span style=color:#ff79c6>*</span> generator(i) {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>yield</span> i;
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>yield</span> i <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>2</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> gen <span style=color:#ff79c6>=</span> generator(<span style=color:#bd93f9>10</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(gen.next().value);
</span></span><span style=display:flex><span>console.log(gen.next().value);
</span></span><span style=display:flex><span><span style=color:#6272a4>// 10 20
</span></span></span></code></pre></div><h2 id=关于指针浅拷贝深拷贝>关于指针/浅拷贝/深拷贝</h2><p>原本 person=>
members[0]=>
都指向[{ name: &ldquo;Lydia&rdquo; }]
然后person指向了null; 但是member的指向没变</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>let</span> person <span style=color:#ff79c6>=</span> { name<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;Lydia&#39;</span> };
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> members <span style=color:#ff79c6>=</span> [person];
</span></span><span style=display:flex><span>person <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>null</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(members);
</span></span><span style=display:flex><span>[{ name<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;Lydia&#34;</span> }]
</span></span></code></pre></div><h3 id=objectassign>Object.assign()</h3><p>返回值和第一个参数指向一样</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>const</span> user <span style=color:#ff79c6>=</span> {
</span></span><span style=display:flex><span>	email<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;e@mail.com&#34;</span>,
</span></span><span style=display:flex><span>	password<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;12345&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> updateUser <span style=color:#ff79c6>=</span> ({ email, password }) =&gt; {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>if</span> (email) {
</span></span><span style=display:flex><span>		<span style=color:#8be9fd;font-style:italic>Object</span>.assign(user, { email })
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>if</span> (password) {
</span></span><span style=display:flex><span>		user.password <span style=color:#ff79c6>=</span> password
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>return</span> user
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> updatedUser <span style=color:#ff79c6>=</span> updateUser({ email<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;new@email.com&#34;</span> })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(updatedUser <span style=color:#ff79c6>===</span> user)
</span></span><span style=display:flex><span><span style=color:#6272a4>//true
</span></span></span></code></pre></div><p>Object.seal()的话就不能被assign()</p><h2 id=遍历>遍历</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> myLifeSummedUp <span style=color:#ff79c6>=</span> [<span style=color:#f1fa8c>&#39;☕&#39;</span>, <span style=color:#f1fa8c>&#39;💻&#39;</span>, <span style=color:#f1fa8c>&#39;🍷&#39;</span>, <span style=color:#f1fa8c>&#39;🍫&#39;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>for</span> (<span style=color:#8be9fd;font-style:italic>let</span> item <span style=color:#ff79c6>in</span> myLifeSummedUp) {
</span></span><span style=display:flex><span>	console.log(item);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>for</span> (<span style=color:#8be9fd;font-style:italic>let</span> item <span style=color:#ff79c6>of</span> myLifeSummedUp) {
</span></span><span style=display:flex><span>	console.log(item);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#6272a4>//0 1 2 3 and &#34;☕&#34; &#34;💻&#34; &#34;🍷&#34; &#34;🍫&#34;
</span></span></span></code></pre></div><h2 id=set>set</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>const</span> set <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> Set([<span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>2</span>, <span style=color:#bd93f9>3</span>, <span style=color:#bd93f9>4</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(set);
</span></span><span style=display:flex><span><span style=color:#6272a4>// {1, 2, 3, 4}
</span></span></span></code></pre></div><h2 id=模块化>模块化</h2><h3 id=es6>es6</h3><p>导入的模块是只读的：不能修改导入的模块。只有导出它们的模块才能更改其值。 当我们试图增加myCounter的值时，它会抛出一个错误：myCounter是只读的，不能修改。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#6272a4>// counter.js
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#8be9fd;font-style:italic>let</span> counter <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>10</span>;
</span></span><span style=display:flex><span><span style=color:#ff79c6>export</span> <span style=color:#ff79c6>default</span> counter;
</span></span><span style=display:flex><span><span style=color:#6272a4>// index.js
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>import</span> myCounter from <span style=color:#f1fa8c>&#39;./counter&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>myCounter <span style=color:#ff79c6>+=</span> <span style=color:#bd93f9>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(myCounter);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>//Error
</span></span></span></code></pre></div><p>执行顺序问题 会预分析引入的模块，所以会先执行引入的模块</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#6272a4>// index.js
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>console.log(<span style=color:#f1fa8c>&#39;running index.js&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#ff79c6>import</span> { sum } from <span style=color:#f1fa8c>&#39;./sum.js&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(sum(<span style=color:#bd93f9>1</span>, <span style=color:#bd93f9>2</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>// sum.js
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>console.log(<span style=color:#f1fa8c>&#39;running sum.js&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#ff79c6>export</span> <span style=color:#ff79c6>const</span> sum <span style=color:#ff79c6>=</span> (a, b) =&gt; a <span style=color:#ff79c6>+</span> b;
</span></span></code></pre></div><h3 id=export>export</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#6272a4>// module.js
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>export</span> <span style=color:#ff79c6>default</span> () =&gt; <span style=color:#f1fa8c>&#39;Hello world&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#ff79c6>export</span> <span style=color:#ff79c6>const</span> name <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;Lydia&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>// index.js
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>import</span> <span style=color:#ff79c6>*</span> as data from <span style=color:#f1fa8c>&#39;./module&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(data);
</span></span><span style=display:flex><span><span style=color:#6272a4>// { default: function default(), name: &#34;Lydia&#34; }
</span></span></span></code></pre></div><p>sum.default(4)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>export</span> <span style=color:#ff79c6>default</span> <span style=color:#8be9fd;font-style:italic>function</span> sum(x) {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>return</span> x <span style=color:#ff79c6>+</span> x;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>// index.js
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>import</span> <span style=color:#ff79c6>*</span> as sum from <span style=color:#f1fa8c>&#39;./sum&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#6272a4>//sum.default(4)
</span></span></span></code></pre></div><h2 id=delete>delete</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> name <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#39;Lydia&#39;</span>;
</span></span><span style=display:flex><span>age <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>21</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(<span style=color:#ff79c6>delete</span> name); <span style=color:#6272a4>// false
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>console.log(<span style=color:#ff79c6>delete</span> age); <span style=color:#6272a4>// true
</span></span></span></code></pre></div><h2 id=jsonstringify>JSON.stringify</h2><p>可以只选取部分属性</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>const</span> settings <span style=color:#ff79c6>=</span> {
</span></span><span style=display:flex><span>	username<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;lydiahallie&#39;</span>,
</span></span><span style=display:flex><span>	level<span style=color:#ff79c6>:</span> <span style=color:#bd93f9>19</span>,
</span></span><span style=display:flex><span>	health<span style=color:#ff79c6>:</span> <span style=color:#bd93f9>90</span>,
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> data <span style=color:#ff79c6>=</span> JSON.stringify(settings, [<span style=color:#f1fa8c>&#39;level&#39;</span>, <span style=color:#f1fa8c>&#39;health&#39;</span>]);
</span></span><span style=display:flex><span>console.log(data);
</span></span><span style=display:flex><span><span style=color:#6272a4>//&#34;{&#34;level&#34;:19, &#34;health&#34;:90}&#34;
</span></span></span></code></pre></div><h2 id=promise--async>promise & async</h2><p>async返回的总是promise类型 pending是鹦鹉 Promise.resolve还没有被调用； 当data.then(res=>console.log(res));</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>async</span> <span style=color:#8be9fd;font-style:italic>function</span> getData() {
</span></span><span style=display:flex><span>	<span style=color:#ff79c6>return</span> <span style=color:#ff79c6>await</span> <span style=color:#8be9fd;font-style:italic>Promise</span>.resolve(<span style=color:#f1fa8c>&#39;I made it!&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> data <span style=color:#ff79c6>=</span> getData();
</span></span><span style=display:flex><span>console.log(data);
</span></span><span style=display:flex><span><span style=color:#6272a4>//Promise {&lt;pending&gt;}
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>console.info(data.then(item =&gt; {
</span></span><span style=display:flex><span>	console.info(item);
</span></span><span style=display:flex><span>	console.log(data);
</span></span><span style=display:flex><span>}))
</span></span><span style=display:flex><span><span style=color:#6272a4>// I made it!
</span></span></span><span style=display:flex><span><span style=color:#6272a4>// Promise {&lt;fulfilled&gt;: &#34;I made it!&#34;}
</span></span></span></code></pre></div><h3 id=promise的状态>promise的状态</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#6272a4>// TODO promise 的几个状态
</span></span></span></code></pre></div><h2 id=pure-function>pure function</h2><p>如果传递相同的参数，则纯函数是始终返回相同结果的函数。</p><h2 id=symbol>symbol</h2><p>symbol是不可被枚举的、freeze的</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>const</span> info <span style=color:#ff79c6>=</span> {
</span></span><span style=display:flex><span>	[Symbol(<span style=color:#f1fa8c>&#39;a&#39;</span>)]<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;b&#39;</span>,
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(info);
</span></span><span style=display:flex><span>console.log(<span style=color:#8be9fd;font-style:italic>Object</span>.keys(info));
</span></span></code></pre></div><h2 id=默认值>默认值</h2><p>参数上也会声明一个变量，被后面的参数所使用</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>const</span> add <span style=color:#ff79c6>=</span> x =&gt; x <span style=color:#ff79c6>+</span> x;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>function</span> myFunc(num <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>2</span>, value <span style=color:#ff79c6>=</span> add(num)) {
</span></span><span style=display:flex><span>	console.log(num, value);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>myFunc();
</span></span><span style=display:flex><span>myFunc(<span style=color:#bd93f9>3</span>);
</span></span></code></pre></div><h2 id=如何使object-可以迭代-iterable>如何使Object 可以迭代 iterable</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>const</span> person <span style=color:#ff79c6>=</span> {
</span></span><span style=display:flex><span>	name<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;Lydia Hallie&#34;</span>,
</span></span><span style=display:flex><span>	age<span style=color:#ff79c6>:</span> <span style=color:#bd93f9>21</span>,
</span></span><span style=display:flex><span>	<span style=color:#6272a4>// 实际是添加一个匿名generator函数,每次调用返回value 然后自动next();
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>	<span style=color:#6272a4>// 所以可遍历了
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>	<span style=color:#ff79c6>*</span> [Symbol.iterator]() {
</span></span><span style=display:flex><span>		<span style=color:#ff79c6>yield</span><span style=color:#ff79c6>*</span> <span style=color:#8be9fd;font-style:italic>Object</span>.values(<span style=color:#ff79c6>this</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>console.log([...person])
</span></span></code></pre></div><h2 id=objectfromentries-array--object>Object.fromEntries [array => object]</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>Object</span>.fromEntries([[<span style=color:#f1fa8c>&#39;key1&#39;</span>, <span style=color:#f1fa8c>&#39;v1&#39;</span>], [<span style=color:#f1fa8c>&#39;key3&#39;</span>, <span style=color:#f1fa8c>&#39;v2&#39;</span>]],)
</span></span><span style=display:flex><span><span style=color:#6272a4>// {key1: &#34;v1&#34;, key3: &#34;v2&#34;}
</span></span></span></code></pre></div><h2 id=if条件的执行顺序>if条件的执行顺序</h2><p>先执行typeof randomValue > number</p><p>!number = false</p><p>false ===string false</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>let</span> randomValue <span style=color:#ff79c6>=</span> { name<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;Lydia&#34;</span> }
</span></span><span style=display:flex><span>randomValue <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>23</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>if</span> (<span style=color:#ff79c6>!</span><span style=color:#ff79c6>typeof</span> randomValue <span style=color:#ff79c6>===</span> <span style=color:#f1fa8c>&#34;string&#34;</span>) {
</span></span><span style=display:flex><span>	console.log(<span style=color:#f1fa8c>&#34;It&#39;s not a string!&#34;</span>)
</span></span><span style=display:flex><span>} <span style=color:#ff79c6>else</span> {
</span></span><span style=display:flex><span>	console.log(<span style=color:#f1fa8c>&#34;Yay it&#39;s a string!&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><div class=comments><h1 class="text-m my-2">COMMENTS</h1><script src=https://utteranc.es/client.js repo=viisionary/visionary issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></article></main><footer class="w-full text-center p-4 text-xs text-gray-400">copyright © 2021 - VISIONARY · All rights reserved</footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-Z0FJ599SKS"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Z0FJ599SKS")</script></body></html>