<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>
æºç  - VISIONARY
</title><meta name=generator content="Hugo 0.86.0"><link rel=stylesheet href=https://blog.visionary.top/css/styles.min.5583cc8e6ddfc010ecf4dbae54157025b0f96637ef471815a3aa6d6c08c700ea.css integrity=sha256-VYPMjm3fwBDs9NuuVBVwJbD5ZjfvRxgVo6ptbAjHAOo=>
<script>window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script>
</head>
<body class="flex flex-col min-h-screen dark:bg-gray-900 dark:text-gray-100 transition-colors duration-500"><header class="w-full px-4 pt-4 max-w-5xl mx-auto">
<nav class="flex items-center justify-between flex-wrap">
<div class="flex gap-2 items-center">
<a href=mailto:min_0610@icloud.com aria-label=EMail><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="4"/><path d="M16 12v1.5a2.5 2.5.0 005 0V12a9 9 0 10-5.5 8.28"/></svg>
</a>
<a href=https://blog.visionary.top/ class="flex items-center font-bold">
VISIONARY
</a>
</div>
<ul id=nav-menu class="flex w-auto mt-0 space-x-2">
<li>
<a href=https://blog.visionary.top/about/ class="hover:text-blue-800 dark:hover:text-blue-300">About Me</a>
</li>
<li>
<a href=https://blog.visionary.top/blog/ class="hover:text-blue-800 dark:hover:text-blue-300">Blogs</a>
</li>
</ul>
</nav>
</header>
<main class="flex-1 mx-4 md:mx-12 lg:mx-24 mt-8 sm:mt-16">
<article class="max-w-5xl mx-auto px-4">
<h1 class="text-4xl font-bold mb-4">æºç </h1>
<div class=text-gray-600></div>
<div class=card-list>
<a class="block my-6" href=/blog/react%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/portals/>
<h2 class="text-xl font-semibold mb-1">react ä¸€äº›ä¸å¸¸ç”¨APIçš„ç¤ºä¾‹</h2>
<div class="font-light text-gray-800 dark:text-gray-200">
å†™æ³•åœ¨å†…éƒ¨ å®é™…æ¸²æŸ“åœ¨åŒçº§ Example: Portals - by Dan Abramov
</div>
<div class="info dark:info-dark">
<span class="font-light mb-2 text-gray-500 text-sm" style=display:inline>
July 16, 2021
</span>
<span class="font-light text-gray-800 text-sm dark:text-gray-200"> <span class=separator><a class=category href=/categories/react/>react</a><a class=category href=/categories/%E6%BA%90%E7%A0%81/>æºç </a></span>
</span>
</div>
</a>
<a class="block my-6" href=/blog/react%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/hooks/>
<h2 class="text-xl font-semibold mb-1">react æºç é˜…è¯» - Hooks</h2>
<div class="font-light text-gray-800 dark:text-gray-200">
æœ‰é‚£äº›hooks
useState useReducer ##useEffect
##useContext
##useRef
</div>
<div class="info dark:info-dark">
<span class="font-light mb-2 text-gray-500 text-sm" style=display:inline>
April 5, 2021
</span>
<span class="font-light text-gray-800 text-sm dark:text-gray-200"> <span class=separator><a class=category href=/categories/react/>react</a><a class=category href=/categories/%E6%BA%90%E7%A0%81/>æºç </a></span>
</span>
</div>
</a>
<a class="block my-6" href=/blog/react%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/reactbasic/>
<h2 class="text-xl font-semibold mb-1">react & reactDOM API</h2>
<div class="font-light text-gray-800 dark:text-gray-200">
react v17.0.2 æ¦‚è¿° react æ•´ä¸ªé¡¹ç›®çš„æ¶æ„
è¯»æºç çš„æœ‰ä»€ä¹ˆç”¨
react react-dom React Top-Level API Components
React.Component ä½¿ç”¨æ–¹å¼ class Welcome extends React.Component { render() { return &lt;h1>Hello, {this.props.name}&lt;/h1>; } } &lt;Welcome/> æºç 
function Component(props, context, updater) { this.props = props; this.context = context; // If a component has string refs, we will assign a different object later. this.refs = emptyObject; // We initialize the default updater but the real one gets injected by the // renderer.
</div>
<div class="info dark:info-dark">
<span class="font-light mb-2 text-gray-500 text-sm" style=display:inline>
April 2, 2021
</span>
<span class="font-light text-gray-800 text-sm dark:text-gray-200"> <span class=separator><a class=category href=/categories/react/>react</a><a class=category href=/categories/%E6%BA%90%E7%A0%81/>æºç </a></span>
</span>
</div>
</a>
<a class="block my-6" href=/blog/react%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/diff%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/>
<h2 class="text-xl font-semibold mb-1">react æºç é˜…è¯» - diff ç®—æ³•</h2>
<div class="font-light text-gray-800 dark:text-gray-200">
è¯¦ç»†å†™äº† diff ç®—æ³•çš„åŸç†ï¼Œå†™äº†ç¤ºä¾‹ï¼Œåˆ†æäº†æºç ï¼ŒåŠ äº†æ³¨é‡Š
// TODO æœ‰ç©ºåŠ ä¸€ä¸ªå¯debugçš„demo è¿˜æœ‰ æ¨¡æ‹Ÿä¸€ä¸ªå¯testçš„ç®€æ˜“diff
å¯æ£€æŸ¥[1,2,3] [{props:{children:[]},next:''},{},{}]
ç‰ˆæœ¬ v17.0.2 diff ç®—æ³•åªå¯¹åŒçº§å…ƒç´ è¿›è¡Œ
diffç®—æ³•æ¯”è¾ƒçš„æ˜¯ä»€ä¹ˆ å½“å‰é¡µé¢ä¸­çš„DOMèŠ‚ç‚¹å¯¹åº”çš„fiberèŠ‚ç‚¹ ğŸ†š æ–°ä¸€æ¬¡renderçš„ç»“æœç”Ÿæˆçš„filterèŠ‚ç‚¹ ç”Ÿæˆçš„workInProgress Fiber å°†è¢«æ¸²æŸ“åˆ°é¡µé¢ diffç®—æ³•çš„ä½œç”¨ æ‰¾åˆ°å¯å¤ç”¨çš„fiberèŠ‚ç‚¹ï¼Œæé«˜æ•ˆç‡ diffç®—æ³•ç”±ä»€ä¹ˆè§¦å‘ reconcile child fibers diffç®—æ³•åœ¨å“ªä¸ªé˜¶æ®µæ‰§è¡Œ diff å°±æ˜¯åœ¨ éå† - æ‰“æ ‡è®°ï¼ŒçŸ¥é“resultingFirstChild è®°å½•äº†æ–°çš„fiberæ ‘ // TODO // new children debugçœ‹ä¸€ä¸‹ // oldFiber debugçœ‹ä¸€ä¸‹
å•èŠ‚ç‚¹ / è°ƒå’Œå•èŠ‚ç‚¹ å¯¹äºobject/number/string
å…ˆæ£€æŸ¥ä¸Šæ¬¡æ›´æ–°æ—¶fiberèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨å¯¹åº”DOM - å³æ£€æŸ¥æ˜¯ä¸æ˜¯é¦–æ¬¡æ¸²æŸ“ï¼Œæ¸²æŸ“è¿‡æ‰æœ‰DOM
å¦‚æœä¸å­˜åœ¨å¯¹åº”DOMï¼Œåˆ™ç›´æ¥æ–°ç”Ÿæˆæ–°èŠ‚ç‚¹è¿”å›
è¦æ˜¯å­˜åœ¨å¯¹åº”DOMï¼Œç»§ç»­æ£€æŸ¥æ˜¯å¦å¯å¤ç”¨ - key & typeç›¸åŒ
å¯å¤ç”¨çš„è¯ï¼Œå°†èŠ‚ç‚¹æ–°ç”Ÿæˆä¸€ä¸ªå‰¯æœ¬è¿”å›
ä¸å¯å¤ç”¨çš„è¯ï¼Œå°†DOMæ ‡è®°ä¸ºéœ€è¦åˆ é™¤ï¼Œå†æ–°ç”ŸæˆèŠ‚ç‚¹è¿”å›
&lt;div>old&lt;/div> // â¬‡ï¸ type & key = null æ²¡å˜; childrenæ”¹å˜ï¼Œdiv å¯å¤ç”¨ï¼Œæ ‡è®°childéœ€è¦æ›´æ–° &lt;div>new&lt;/div> &lt;div>old&lt;/div> // â¬‡ï¸ typeæ”¹å˜ ç›´æ¥æ ‡è®°divä¸ºdelection æ–°ç”Ÿæˆ p-> new è¿”å› &lt;p>new&lt;/p> &lt;div key="old">old&lt;/div> // â¬‡ï¸ key æ”¹å˜ ä¸å¯å¤ç”¨ &lt;div key="new">old&lt;/div> å¤šèŠ‚ç‚¹ å¯¹äº array
</div>
<div class="info dark:info-dark">
<span class="font-light mb-2 text-gray-500 text-sm" style=display:inline>
April 2, 2021
</span>
<span class="font-light text-gray-800 text-sm dark:text-gray-200"> <span class=separator><a class=category href=/categories/react/>react</a><a class=category href=/categories/%E6%BA%90%E7%A0%81/>æºç </a></span>
</span>
</div>
</a>
<a class="block my-6" href=/blog/react%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/setstate/>
<h2 class="text-xl font-semibold mb-1">react æºç é˜…è¯» - setState</h2>
<div class="font-light text-gray-800 dark:text-gray-200">
Component.prototype.setState = function (partialState, callback) { this.updater.enqueueSetState(this, partialState, callback, 'setState'); }; function enqueueSetState(inst, payload, callback) { // ... // å­˜åœ¨æ¥updatelé‡Œ update.payload = payload; // å°†updateæ’å…¥updateQueue // è°ƒåº¦update enqueueUpdate(fiber, update, lane); scheduleUpdateOnFiber(fiber, lane, eventTime); }
</div>
<div class="info dark:info-dark">
<span class="font-light mb-2 text-gray-500 text-sm" style=display:inline>
April 2, 2021
</span>
<span class="font-light text-gray-800 text-sm dark:text-gray-200"> <span class=separator><a class=category href=/categories/react/>react</a><a class=category href=/categories/%E6%BA%90%E7%A0%81/>æºç </a></span>
</span>
</div>
</a>
<a class="block my-6" href=/blog/react%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/react%E7%BB%93%E5%90%88%E5%AE%9E%E6%88%98/>
<h2 class="text-xl font-semibold mb-1">react æºç é˜…è¯» - show with code</h2>
<div class="font-light text-gray-800 dark:text-gray-200">
</div>
<div class="info dark:info-dark">
<span class="font-light mb-2 text-gray-500 text-sm" style=display:inline>
April 2, 2021
</span>
<span class="font-light text-gray-800 text-sm dark:text-gray-200"> <span class=separator><a class=category href=/categories/react/>react</a><a class=category href=/categories/%E6%BA%90%E7%A0%81/>æºç </a></span>
</span>
</div>
</a>
<a class="block my-6" href=/blog/react%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/>
<h2 class="text-xl font-semibold mb-1">react æºç é˜…è¯» - ssr</h2>
<div class="font-light text-gray-800 dark:text-gray-200">
</div>
<div class="info dark:info-dark">
<span class="font-light mb-2 text-gray-500 text-sm" style=display:inline>
April 2, 2021
</span>
<span class="font-light text-gray-800 text-sm dark:text-gray-200"> <span class=separator><a class=category href=/categories/react/>react</a><a class=category href=/categories/%E6%BA%90%E7%A0%81/>æºç </a></span>
</span>
</div>
</a>
<a class="block my-6" href=/blog/react%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/react%E6%BA%90%E7%A0%81%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E5%90%8D%E8%AF%8D/>
<h2 class="text-xl font-semibold mb-1">react æºç é˜…è¯» - åè¯ & æ•°æ®ç»“æ„</h2>
<div class="font-light text-gray-800 dark:text-gray-200">
</div>
<div class="info dark:info-dark">
<span class="font-light mb-2 text-gray-500 text-sm" style=display:inline>
April 2, 2021
</span>
<span class="font-light text-gray-800 text-sm dark:text-gray-200"> <span class=separator><a class=category href=/categories/react/>react</a><a class=category href=/categories/%E6%BA%90%E7%A0%81/>æºç </a></span>
</span>
</div>
</a>
<a class="block my-6" href=/blog/react%E6%BA%90%E7%A0%81%E7%AC%94%E8%AE%B0/react%E6%B5%81%E7%A8%8B/>
<h2 class="text-xl font-semibold mb-1">react æºç é˜…è¯» - æµç¨‹</h2>
<div class="font-light text-gray-800 dark:text-gray-200">
<p>React16æ¶æ„</p>
<ul>
<li>scheduler è°ƒåº¦ ã€v15æ²¡æœ‰ã€‘
<blockquote>
<p>è°ƒåº¦ä»»åŠ¡çš„ä¼˜å…ˆçº§ï¼Œé«˜ä¼˜ä»»åŠ¡ä¼˜å…ˆè¿›å…¥Reconciler
åˆ°åº•æ˜¯æ€ä¹ˆè°ƒåº¦çš„ï¼Ÿ
react v18çš„å¹¶å‘æ¨¡å¼ Concurrent Mode</p>
</blockquote>
</li>
<li>reconciler åè°ƒ
<blockquote>
<p>è´Ÿè´£æ‰¾å‡ºå˜åŒ–çš„ç»„ä»¶</p>
</blockquote>
</li>
<li>renderer æ¸²æŸ“
<blockquote>
<p>è´Ÿè´£å°†å˜åŒ–çš„ç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸Š</p>
</blockquote>
</li>
</ul>
</div>
<div class="info dark:info-dark">
<span class="font-light mb-2 text-gray-500 text-sm" style=display:inline>
April 2, 2021
</span>
<span class="font-light text-gray-800 text-sm dark:text-gray-200"> <span class=separator><a class=category href=/categories/react/>react</a><a class=category href=/categories/%E6%BA%90%E7%A0%81/>æºç </a></span>
</span>
</div>
</a>
</div>
</article>
</main><footer class="w-full text-center p-4 text-xs text-gray-400">
copyright Â© 2021 - VISIONARY Â· All rights reserved
</footer>
</body>
</html>